<Page x:Class="javis.Pages.SkillsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="Transparent">

    <Grid Margin="14">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                CornerRadius="16"
                Background="#22000000"
                BorderBrush="#33BFE9FF"
                BorderThickness="1"
                Padding="12"
                Margin="0,0,0,12">
            <DockPanel>
                <StackPanel DockPanel.Dock="Left">
                    <TextBlock Text="&#xC2A4;&#xD0AC;" Foreground="#EAF6FF" FontSize="16" FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding Status}" Foreground="#A8C7D9" Margin="0,4,0,0"/>
                </StackPanel>

                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBox x:Name="CreateSkillBox"
                             Width="420"
                             VerticalContentAlignment="Center"
                             Text="&#xB2E8;&#xC704; &#xBCC0;&#xD658; &#xB9CC;&#xB4E4;&#xC5B4;&#xC918; (km &lt;-&gt; m)" />
                    <Button x:Name="CreateSkillBtn"
                            Content="&#xC2A4;&#xD0AC; &#xB9CC;&#xB4E4;&#xAE30;"
                            Margin="8,0,0,0"
                            Click="CreateSkillBtn_Click"/>
                    <Button Content="&#xC0C8;&#xB85C;&#xACE0;&#xCE68;"
                            Margin="8,0,0,0"
                            Click="ReloadBtn_Click"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <Border Grid.Row="1"
                CornerRadius="16"
                Background="#22000000"
                BorderBrush="#33BFE9FF"
                BorderThickness="1"
                Padding="12">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl ItemsSource="{Binding Skills}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel ItemWidth="240" ItemHeight="120" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border CornerRadius="14"
                                    Background="#11FFFFFF"
                                    BorderBrush="#22FFFFFF"
                                    BorderThickness="1"
                                    Margin="0,0,12,12"
                                    Padding="12">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0"
                                               Text="{Binding Manifest.Name}"
                                               Foreground="#EAF6FF"
                                               FontWeight="SemiBold"/>

                                    <TextBlock Grid.Row="1"
                                               Margin="0,6,0,0"
                                               Text="{Binding Manifest.Description}"
                                               Foreground="#A8C7D9"
                                               TextWrapping="Wrap"/>

                                    <Button Grid.Row="2"
                                            Margin="0,10,0,0"
                                            Content="&#xC2E4;&#xD589;"
                                            Height="32"
                                            Command="{Binding DataContext.RunCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                                            CommandParameter="{Binding}"/>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>
    </Grid>
</Page>
